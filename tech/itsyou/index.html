<!DOCTYPE html>
<html>
<head><title id="tt">点名宝盒v1.4 - WindWhir</title>
<meta charset="UTF-8">
<link rel="icon" href="/2409/a2409.ico" />
<style id="style">body{background-color:#9f9}</style>
<style>
*{transition:all 1000ms;    scroll-behavior: smooth;}
#xianshi{font-size:15vw;text-align:left}div{text-align:center;font-size: 2.5vw;}
button{font-size:8vw}
#waiting ::after{content: ' ...';}
#succeeded ::after{content: ' √';}
a{text-decoration: none;}
</style>
</head>
<body onload="zaici()">
<div style="border: #00000055 0.2vw;border-radius:50%;width: 4vw;height: 4vw;background-color: #fff;position:fixed;bottom:15vw;right:2.4vw;font-size: 2.9vw;"><a href="#xianshi">↑</a></div>
<div style="border: #00000055 0.2vw;border-radius:50%;width: 4vw;height: 4vw;background-color: #fff;position:fixed;bottom:8.4vw;right:2.4vw;font-size: 2.9vw;"><a href="#buttom">↓</a></div>
<div id="xianshi">-1 - 未定</div><br/>
<div>
<button id="stopterm" onclick="tingzhi()">停止随机</button>
<button id="nextterm" onclick="zaici()" style="display: none;">再抽一个</button>
</div>
<hr/>
<div id="waiting" style="color:#000;position:absolute;background-color: #ffffff55;border-radius: 0.5vw;width: 35vw;left:13vw;top:35vw;height:auto"><span id="buttom">Waiting</span></div>
<div id="succeeded" style="color:#fff;position: absolute;background-color: #00000030;border-radius: 0.5vw;width: 35vw;left:53vw;top:35vw;height:auto"><span>Succeeded</span></div>
<div class="wel" id="welcome" style="position:fixed;top:0; height:100vh;width:99vw;background-color: #faa;color:white;text-align: left;" onclick="killwelcome()"><br/><div style="font-size:5vw;" class="wel">点名宝盒 v1.4</div><div>点击任意处开始使用</div><hr/>v1.4：<br/>增加了连续点名和两栏分类，点击两栏中某同学的名字可以将其移动到另一边。<br/>增加了回到顶部、底部功能（右下角浮窗），平滑了滚动效果。<br/>重新设计了网站逻辑，使得通用性更强、更改更容易。<br/><a href="https://windwhir.lanzn.com/iuJZ627a3ppi">点击此处： 下载可导入信息版本</a><div style="text-align: right;color:auto" class="wel">WindWhir</div></div>
<script src="namelist_config.js"></script>
<script>
var suijishu;var mingzi;var yanse;var shuzi;var jishiqi;var diedlist=[0];var xunzaho;var chaxun
if(classtitle){document.getElementById("tt").innerHTML=classtitle+"点名"}
//随机刷新区域
var shuaxin=function(){
suijishu=Math.floor(Math.random() * namelist.length);
mingzi=namelist[suijishu][0];
if(suijishu<10){shuzi="0"+suijishu}else{shuzi=suijishu}
document.getElementById("xianshi").innerHTML=(shuzi+" - "+mingzi)
}
function tingzhi(){
clearInterval(jishiqi);
if(namelist[suijishu][1]==0){yanse="f66";};
if(namelist[suijishu][1]==1){yanse="39f";};
if(namelist[suijishu][1]==2){yanse="fc9";};
document.getElementById("stopterm").style.display="none";
document.getElementById("nextterm").style.display="inline";
document.getElementById("style").innerHTML="body{background-color:#"+yanse+"} #xianshi{color:#fff";
panduanxieru()
}
function zaici(){
jishiqi=setInterval(() =>{shuaxin()}, 10)
document.getElementById("stopterm").style.display="inline";
document.getElementById("nextterm").style.display="none";
document.getElementById("style").innerHTML="body{background-color:#9f9} #xianshi{color:#000";
}
function panduanxieru(){
if(diedlist.indexOf(suijishu)==-1){
diedlist.push(suijishu);
document.getElementById("waiting").innerHTML="<div class='mingdan1' id='md1for"+suijishu+"' onclick='pass(this.id)'>"+mingzi+"</div>"+document.getElementById("waiting").innerHTML
document.getElementById("succeeded").innerHTML="<div style='opacity:0' class='mingdan2' id='md2for"+suijishu+"' onclick='fail(this.id)'>"+mingzi+"</div>"+document.getElementById("succeeded").innerHTML
}
}
function pass(aidi){
chaxun=document.querySelectorAll(".mingdan2")
xunzhao=document.getElementById(aidi).innerHTML
for(i=0;chaxun[i];i++){
if(chaxun[i].innerHTML==xunzhao){
chaxun[i].style.opacity="1"
document.getElementById(aidi).style.opacity="0"
}
}
}
function fail(aidi){
chaxun=document.querySelectorAll(".mingdan1")
xunzhao=document.getElementById(aidi).innerHTML
for(i=0;chaxun[i];i++){
if(chaxun[i].innerHTML==xunzhao){
chaxun[i].style.opacity="1"
document.getElementById(aidi).style.opacity="0"
}
}
}
function killwelcome(){
document.getElementById("welcome").style.backgroundColor="#9f9";
setTimeout(()=>{document.getElementById("welcome").style.opacity="0";},1000)
setTimeout(()=>{document.getElementById("welcome").style.display="none"},2000)
}
</script>
</body>
</html>